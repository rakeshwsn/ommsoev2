<?php
defined('BASEPATH') or exit('No direct script access allowed');

// Define the root directory of the application
const APP_PATH = __DIR__ . '/../app';
const WRITABLE_PATH = __DIR__ . '/../writable';
const CONFIG_PATH = APP_PATH . '/Config';

// Autoload the Composer dependencies
require __DIR__ . '/../vendor/autoload.php';

// Load the environment and application configuration
$env = new \CodeIgniter\Environment();
$env->initialize(require CONFIG_PATH . '/App.php');

// Include the bootstrap file
require CONFIG_PATH . '/bootstrap.php';

// Create the CodeIgniter application instance
$app = new \CodeIgniter\Application(
    APP_PATH,
    WRITABLE_PATH,
    $env->get('app.environment')
);

// Run the application
$app->run();
