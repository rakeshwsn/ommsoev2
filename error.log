<?php
defined('BASEPATH') or exit('No direct script access allowed');

require __DIR__ . '/../app/Config/Constants.php';
require __DIR__ . '/../vendor/autoload.php';

use CodeIgniter\Environment;
use CodeIgniter\Runtime\Path;

if (file_exists(Path::find('../app/Config/App.php'))) {
    (new Environment())->initialize(require Path::find('../app/Config/App.php'));
} else {
    exit('Application not found.');
}

require __DIR__ . '/../app/Config/bootstrap.php';

$app = new CodeIgniter\Application(
    Path::find('../app'),
    Path::find('../writable'),
    APP_ENV
);

$app->run();
